<div class="c">
	<h1 class="title">Chatroom</h1>
	<br>

	<mat-card class="card">
		<div id="wrapper">

			<div id="first">
				<div>
					<button class="newroom" [routerLink]="['../create-room']"> <i class="bi bi-plus-circle-fill"></i> Create new Room</button>
				</div>

				<div *ngIf="(rooms$ | async)?.items?.length > 0; else no_rooms">

					<mat-selection-list [multiple]="false" (selectionChange)="onSelectRoom($event)" class="room">

						<mat-list-option *ngFor="let room of (rooms$ | async)?.items" [value]="room">
							<span class="roomname">{{room.name}}</span>
							<mat-divider></mat-divider>
						</mat-list-option>

					</mat-selection-list>

					<mat-paginator class="paginator"
						[hidePageSize]="true"
						[length]="(rooms$ | async)?.items?.length"
						[pageSize]="10"
						[pageIndex]="(rooms$ | async)?.meta?.currentPage">
					</mat-paginator>

				</div>

				<!-- <button type="button" class="btn btn-primary" [routerLink]="['../navigation']">Go back to navigation</button> -->
			</div>

			<div id="second">
				<app-chat-room [chatRoom]="selectedRoom"></app-chat-room>
			</div>

		</div>
	</mat-card>

	<button [routerLink]='["../navigation"]' type="button" class="goBack btn btn-success btn-lg"><i class="bi bi-sign-turn-left-fill"></i> Go back</button>
</div>

<ng-template #no_rooms>
	<div>
		<mat-error>No Chatrooms for yo so far, please create one or get invited!</mat-error>
	</div>
</ng-template>
